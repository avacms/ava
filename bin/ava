#!/usr/bin/env php
<?php

declare(strict_types=1);

/**
 * Ava CMS CLI
 *
 * Command-line interface for Ava CMS.
 *
 * Usage:
 *   php bin/ava <command> [options] [arguments]
 *
 * Commands:
 *   status     Show site status and cache info
 *   rebuild    Rebuild all cache files
 *   lint       Validate content files
 *   make:page  Create a new page
 *   make:type  Create content of a specific type
 */

// Ensure we're running from CLI
if (php_sapi_name() !== 'cli') {
    die("This script must be run from the command line.\n");
}

// Find project root
$root = dirname(__DIR__);
if (!file_exists($root . '/bootstrap.php')) {
    // Try one level up (if running from bin/)
    $root = dirname($root);
}

define('AVA_ROOT', $root);

// Load bootstrap and get app
$app = require AVA_ROOT . '/bootstrap.php';

// Get CLI instance with app
$cli = new Ava\Cli\Application($app);
$cli->run($argv);

